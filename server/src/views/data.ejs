<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<title><%= title %></title>
		<style>
			body {
				font-family: Arial, sans-serif;
				background-color: #f4f7f9;
				padding: 30px;
			}

			h1 {
				color: #0077cc;
				text-align: center;
				margin-bottom: 20px;
			}
			h2 {
				margin: 0 0 12px 0;
				color: #333;
			}

			.container {
				display: grid;
				grid-template-columns: 1fr 2fr;
				gap: 20px;
				max-width: 1200px;
				margin: 0 auto;
				align-items: start;
			}

			.api-list {
				background: #fff;
				border-radius: 10px;
				box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
				padding: 16px 20px;
				height: fit-content;
			}

			.api-list ul {
				list-style: none;
				padding: 0;
				margin: 0;
			}
			.api-list li {
				padding: 6px 0;
				border-bottom: 1px dashed #eee;
				font-family: monospace;
				display: flex;
				gap: 10px;
				align-items: center;
			}
			.api-list li:last-child {
				border-bottom: none;
			}

			.method {
				min-width: 70px;
				font-weight: bold;
				color: #0077cc;
			}

			.table-wrapper {
				background: #fff;
				border-radius: 10px;
				box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
				overflow: hidden;
			}

			table {
				border-collapse: collapse;
				width: 100%;
			}
			th,
			td {
				padding: 12px 16px;
				border-bottom: 1px solid #eee;
				text-align: left;
			}
			th {
				background-color: #0077cc;
				color: #fff;
				position: sticky;
				top: 0;
			}
			tr:nth-child(even) {
				background-color: #f9f9f9;
			}
			tr:hover {
				background-color: #e1f0ff;
			}

			.back-link {
				display: inline-block;
				margin: 30px auto 0;
				padding: 10px 20px;
				border-radius: 8px;
				background-color: #0077cc;
				color: #fff;
				text-decoration: none;
				text-align: center;
			}

			@media (max-width: 900px) {
				.container {
					grid-template-columns: 1fr;
				}
			}
		</style>
	</head>
	<body>
		<h1><%= title %></h1>

		<div class="container">
			<!-- CỘT TRÁI: API Endpoints -->
			<div>
				<% if (apiRoutes && apiRoutes.length > 0) { %>
				<div class="api-list">
					<h2>API Endpoints</h2>
					<ul>
						<% apiRoutes.forEach(r => { %>
						<li>
							<span class="method"><%= r.methods %></span>
							<code><%= r.path %></code>
						</li>
						<% }) %>
					</ul>
				</div>
				<% } %>
			</div>

			<!-- CỘT PHẢI: DATA -->
			<div class="table-wrapper">
				<table>
					<thead>
						<tr>
							<% columns.forEach(col => { %>
							<th><%= col %></th>
							<% }) %>
						</tr>
					</thead>
					<tbody>
						<% if (!data || data.length === 0) { %>
						<tr>
							<td colspan="<%= columns.length %>" style="text-align: center">Không có dữ liệu</td>
						</tr>
						<% } else { %> <% data.forEach(row => { %>
						<tr>
							<% columns.forEach(col => { %>
							<td><%= row[col] %></td>
							<% }) %>
						</tr>
						<% }) %> <% } %>
					</tbody>
				</table>
			</div>
		</div>

		<a href="/" class="back-link">Quay lại</a>
	</body>
</html>
