<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<title><%= title %></title>

		<!-- Tailwind CDN -->
		<script src="https://cdn.tailwindcss.com"></script>
	</head>

	<body class="bg-slate-100 p-8 font-sans">
		<h1 class="text-3xl font-semibold text-sky-600 text-center mb-6">
			<%= title %>
		</h1>

		<div
			class="max-w-7xl mx-auto grid grid-cols-1 lg:grid-cols-[1fr_2fr] gap-6 items-start"
		>
			<!-- CỘT TRÁI: API Endpoints -->
			<div>
				<% if (apiRoutes && apiRoutes.length > 0) { %>
				<div
					class="bg-white rounded-xl shadow-md p-5 h-fit"
				>
					<h2 class="text-lg font-semibold text-slate-700 mb-3">
						API Endpoints
					</h2>

					<ul class="space-y-2">
						<% apiRoutes.forEach(r => { %>
						<li
							class="flex items-center gap-3 border-b border-dashed border-slate-200 pb-2 last:border-none font-mono text-sm"
						>
							<span
								class="min-w-[70px] font-bold text-sky-600"
							>
								<%= r.methods %>
							</span>
							<code class="text-slate-700">
								<%= r.path %>
							</code>
						</li>
						<% }) %>
					</ul>
				</div>
				<% } %>
			</div>

			<!-- CỘT PHẢI: DATA -->
			<div class="bg-white rounded-xl shadow-md overflow-hidden">
				<div class="overflow-auto max-h-[80vh]">
					<table class="w-full border-collapse">
						<thead class="sticky top-0 bg-sky-600 text-white">
							<tr>
								<% columns.forEach(col => { %>
								<th class="px-4 py-3 text-left font-medium text-center">
									<%= col %>
								</th>
								<% }) %>
							</tr>
						</thead>

						<tbody>
							<% if (!data || data.length === 0) { %>
							<tr>
								<td
									colspan="<%= columns.length %>"
									class="text-center px-4 py-6 text-slate-500"
								>
									Không có dữ liệu
								</td>
							</tr>
							<% } else { %>
							<% data.forEach(row => { %>
							<tr
								class="even:bg-slate-50 hover:bg-sky-100 transition"
							>
								<% columns.forEach(col => { %>
								<td class="px-4 py-3 border-b border-slate-200">
									<%= row[col] %>
								</td>
								<% }) %>
							</tr>
							<% }) %>
							<% } %>
						</tbody>
					</table>
				</div>
			</div>
		</div>

		<a
			href="/"
			class="inline-block mt-8 px-6 py-3 rounded-lg bg-sky-600 text-white font-medium
				   hover:bg-sky-700 hover:-translate-y-0.5 hover:shadow-md
				   transition-all mx-auto"
		>
			Quay lại
		</a>
	</body>
</html>
